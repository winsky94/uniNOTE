<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
    <title>list</title>

    <!-- CSS  -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
    <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
    <style type="text/css">
    input{
      max-width: 80%;
    }
    .btn{
      max-width: 30%;
    }
    .row{
      margin-left: 9%;
      margin-right: 9%;
    }
    img{
        max-width: 42px;
        padding: 0;
    }
    </style>

    <script src="js/writeHTML.js"></script>
    <script src="js/xmlhttp.js"></script>

    <script type="text/javascript">

        function onResponse(xmlhttp){
            if (xmlhttp.readyState==4 && xmlhttp.status==200){
                //file_elements是一个数组
<<<<<<< .mine
                var text=xmlhttp.responseText;
            try{
                xmlDoc=new ActiveXObject("Microsoft.XMLDOM");
                xmlDoc.async="false";
                xmlDoc.loadXML(text);
            }catch(e){
                try{
                    parser=new DOMParser();
                    xmlDoc=parser.parseFromString(text,"text/xml");
                }catch(e) {
                    alert(e.message)
                }
            }
                var file_elements=xmlDoc.getElementsByTagName("document"); 
                alert(xmlDoc.getElementsByTagName("document")[0].childNodes[0].nodeValue);
=======
                var file_elements=xmlhttp.responseXML.getElementsByTagName("document"); 
                alert(xmlhttp.responseText);
>>>>>>> .r274
                var txt=write_document_list(file_elements);
                document.getElementById("filelist").innerHTML=txt;
            }
        }

        function init_list(){
            var xmlhttp=getXmlHttp();
            if(xmlhttp!=null){
                xmlhttp.onreadystatechange=function(){onResponse(xmlhttp)};
                xmlhttp.open("GET","/UniNote/DocumentOverViewServlet",true);
                xmlhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');
                                xmlhttp.send("/UniNote/DocumentOverViewServlet"); 
            }else{
                alert("Your browser does not support XMLHttpRequest.");
            }
        }//end init_list

        function get_documents_by_course(arguments){
        
            var xmlhttp=getXmlHttp();
            if(xmlhttp!=null){
                xmlhttp.onreadystatechange=function(){onResponse(xmlhttp)};
                xmlhttp.open("GET","",true);                     //server undefined
                xmlhttp.send(arguments);                            
            }else{
                alert("Your browser does not support XMLHttpRequest.");
        } 
}

    </script>

</head>
<body onload='write_header();write_footer();init_list()'>

    <header></header>

    <div class="main container">
        <div class="row">
            <!-- 左边l8 -->

            <div class="col s12 l8">
                <!--左边的内容-->
                 <div class="card">
            <div class="card-image">
              <img src="images/sample-1.jpg">
              <span class="card-title">Card Title</span>
            </div>
            <div class="card-content">
              <p>I am a very simple card. I am good at containing small bits of information.
              I am convenient because I require little markup to use effectively.</p>
            </div>
            <div class="card-action">
              <a href="#">This is a link</a>
            </div>
          </div>

                <!-- 左边l4END --> </div>
            <!-- 右边l8 -->
            <div class="col s12 l4">
                <!-- 右边l8END --> 
                 <div class="card">
            <div class="card-image">
              <img src="images/portrait.jpg">
              <span class="card-title">Card Title</span>
            </div>
            <div class="card-content">
              <p>I am a very simple card. I am good at containing small bits of information.
              I am convenient because I require little markup to use effectively.</p>
            </div>
            <div class="card-action">
              <a href="#">This is a link</a>
            </div>
          </div>
                </div>
        </div>
        <!--main container--> </div>
    <div id="footer"></div>

    <!--  Scripts-->
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="js/materialize.js"></script>

</body>
</html>