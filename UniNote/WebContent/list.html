<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
	<title>list</title>

	<!-- CSS  -->
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
	<link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
	<style type="text/css">
    input{
      max-width: 80%;
    }
    .btn{
      max-width: 30%;
    }
	.row{
	  margin-left: 9%;
	  margin-right: 9%;
	}
	img{
		max-width: 42px;
		padding: 0;
	}
	</style>

	<script src="js/writeHTML.js"></script>
	<script src="js/xmlhttp.js"></script>

	<script type="text/javascript">

	    function onResponse(xmlhttp){
  	   	    if (xmlhttp.readyState==4 && xmlhttp.status==200){
                //file_elements是一个数组
                var text=xmlhttp.responseText;
            try{
                xmlDoc=new ActiveXObject("Microsoft.XMLDOM");
                xmlDoc.async="false";
                xmlDoc.loadXML(text);
            }catch(e){
                try{
                    parser=new DOMParser();
                    xmlDoc=parser.parseFromString(text,"text/xml");
                }catch(e) {
            	    alert(e.message);
                }
            }
                var file_elements=xmlDoc.getElementsByTagName("document"); 

                var txt=write_document_list(file_elements);
                document.getElementById("filelist").innerHTML=txt;
            }
	    }

	    function init_list(){
            var xmlhttp=getXmlHttp();
            var university=$('#university-info').attr('title');
            if(xmlhttp!=null){
                xmlhttp.onreadystatechange=function(){onResponse(xmlhttp)};
                xmlhttp.open("GET","/UniNote/DocumentOverViewServlet",true);
                //xmlhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');
 				xmlhttp.send("unversity="+university);
            }else{
            	alert("Your browser does not support XMLHttpRequest.");
            }
	    }//end init_list

	    function get_documents_by_course(arguments){
            var university=$('#university-info').attr('title');
            var xmlhttp=getXmlHttp();
            if(xmlhttp!=null){
                xmlhttp.onreadystatechange=function(){onResponse(xmlhttp)};
                xmlhttp.open("GET","",true);                     //server undefined
                xmlhttp.send("university="+university+"&"+arguments);                            
            }else{
                alert("Your browser does not support XMLHttpRequest.");
        } 
}

	</script>

</head>
<body onload='write_header_not_login();write_footer();'>

	<header></header>

	<div class="main container">
		<div class="row">
			<!-- 左边l4 -->
			<div class="col s12 l4">
				<br />
				<h4>选择课程</h4>
				<!--左边的内容-->
				<ul class="collapsible" data-collapsible="expandable">
					<li>
						<div class="collapsible-header"> <i class="material-icons">list</i>
							软件学院
						</div>
						<div class="collapsible-body">
							<div class="collection" title="软件学院">
								<a href="#!" class="collection-item" title="软件工程与计算Ⅰ" onclick="get_documents_by_course('department='+this.parentNode.title+'&course='+this.title)">
									软件工程与计算Ⅰ
									<span class="badge">6</span>
								</a>
								<a href="#!" class="collection-item" title="计算机组织结构" onclick="get_documents_by_course('department='+this.parentNode.title+'&course='+this.title)">
									计算机组织结构
									<span class="new badge">4</span>
								</a>
								<a href="#!" class="collection-item" title="计算机与操作系统" onclick="get_documents_by_course('department='+this.parentNode.title+'&course='+this.title)">
									计算机与操作系统
									<span class="badge">22</span>
								</a>
								<a href="#!" class="collection-item" title="数据库系统" onclick="get_documents_by_course('department='+this.parentNode.title+'&course='+this.title)">
									数据库系统
									<span class="badge">14</span>
								</a>
								<a href="#!" class="collection-item" title="软件工程与计算Ⅲ" onclick="get_documents_by_course('department='+this.parentNode.title+'&course='+this.title)">
									软件工程与计算Ⅲ
									<span class="badge">11</span>
								</a>
								<a href="#!" class="collection-item" title="软件工程统计方法" onclick="get_documents_by_course('department='+this.parentNode.title+'&course='+this.title)">
									软件工程统计方法
									<span class="badge">17</span>
								</a>
								<a href="#!" class="collection-item" title="计算机网络" onclick="get_documents_by_course('department='+this.parentNode.title+'&course='+this.title)">
									计算机网络
									<span class="badge">32</span>
								</a>

							</div>
						</div>
					</li>
					<li>
						<div class="collapsible-header"> <i class="material-icons">list</i>
							计算机科学与技术系
						</div>
						<div class="collapsible-body">
							<div class="collection" title="计算机科学与技术系">
								<a href="#!" class="collection-item" title="编译原理" onclick="get_documents_by_course('department='+this.parentNode.title+'&course='+this.title)">
									编译原理
									<span class="badge">32</span>
								</a>

							</div>
						</div>
					</li>
					<li>
						<div class="collapsible-header">
							<i class="material-icons">list</i>
							Third
						</div>
						<div class="collapsible-body">
							<div class="collection" title="Third">
								<a href="#!" class="collection-item" title="编译原理" onclick="get_documents_by_course('department='+this.parentNode.title+'&course='+this.title)">
									编译原理
									<span class="badge">32</span>
								</a>
							</div>
						</div>
					</li>

				</ul>
				<!-- 左边l4END -->
			</div>
			<!-- 右边l8 -->
			<div class="col s12 l8">
				<br />
				<br />
				<form id="searchZone">
					<div>
						<input type="text" data-provide="typeahead">
						<a class="waves-effect waves-light btn">搜索</a>
					</div>
					<form>
						<style type="text/css">
			label{
				margin: 5px;
			}
			</style>
						<input type="radio" name="document" id="all-radio"/>
						<label for="all-radio">all</label>

						<input type="radio" name="document" id="doc-radio"/>
						<label for="doc-radio">doc</label>
						<input type="radio" name="document" id="ppt-radio"/>
						<label for="ppt-radio">ppt</label>
						<input type="radio" name="document" id="xls-radio"/>
						<label for="xls-radio">xls</label>
						<input type="radio" name="document" id="pdf-radio"/>
						<label for="pdf-radio">pdf</label>
						<input type="radio" name="document" id="other-radio"/>
						<label for="other-radio">other</label>

					</form>
				</form>
				<br />
				<div>
					<ul class="collection" id="filelist"></ul>
				</div>

				<div class="bdsharebuttonbox">
					<a href="#" class="bds_more" data-cmd="more">分享到：</a>
					<a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博">新浪微博</a>
					<a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信">微信</a>
					<a href="#" class="bds_sqq" data-cmd="sqq" title="分享到QQ好友">QQ好友</a>
					<a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网">豆瓣网</a>
					<a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间">QQ空间</a>
					<a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网">人人网</a>
					<a href="#" class="bds_copy" data-cmd="copy" title="分享到复制网址">复制网址</a>
				</div>
				<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"分享自uniNOTE的文档:","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{"bdSize":16}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
				<div>
					<ul class="pagination">
						<li class="disabled">
							<a href="#!">
								<i class="material-icons">chevron_left</i>
							</a>
						</li>
						<li class="active" >
							<a href="#!">1</a>
						</li>
						<li class="waves-effect">
							<a href="#!">2</a>
						</li>
						<li class="waves-effect">
							<a href="#!">3</a>
						</li>
						<li class="waves-effect">
							<a href="#!">4</a>
						</li>
						<li class="waves-effect">
							<a href="#!">5</a>
						</li>
						<li class="waves-effect">
							<a href="#!">
								<i class="material-icons">chevron_right</i>
							</a>
						</li>
					</ul>
				</div>
			</div>
			<!-- 右边l8END -->
		</div>
	</div>
	<!--main container-->

	<div id="footer"></div>

	<!--  Scripts-->
	<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
	<script src="js/materialize.js"></script>

</body>
</html>