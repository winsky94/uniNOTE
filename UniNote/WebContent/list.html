<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
	<title>list</title>

	<!-- CSS  -->
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
	<link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
	<style type="text/css">
    input{
      max-width: 80%;
    }
    .btn{
      max-width: 30%;
    }
	.row{
	  margin-left: 9%;
	  margin-right: 9%;
	}
	img{
		max-width: 42px;
		padding: 0;
	}
	</style>


	<script type="text/javascript">
	   function update_list(){
	   	var xmlhttp;
        if (window.XMLHttpRequest)
          {// code for IE7+, Firefox, Chrome, Opera, Safari
          xmlhttp=new XMLHttpRequest();
          }
        else
          {// code for IE6, IE5
          xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
          }
          if(xmlhttp!=null){
            xmlhttp.onreadystatechange=onResponse;
            xmlhttp.open("GET","/UniNote/DocumentOverViewServlet",true);
            xmlhttp.send(null);
          }else{
          	alert("ewx");
          }

	   }//end update_list

	   function onResponse(){
	   	 if (xmlhttp.readyState==4 && xmlhttp.status==200)
              {
                //file_elements是一个数组
                var file_elements=xmlhttp.responseXML.documentElement.getElementsByTagName("document"); 
                var txt=" ";
                for(i=0;i<file_elements.length;i++){

                  //开头
                  txt=txt + "<li class='collection-item avatar'>";

                  //根据文件格式选图片
                  var name=file_elements[i].getElementsByTagName("name");
                  var str=name.split(".");
                  if(str.length>1){
                     var extension=str[1];
                     txt=txt+"<i class='circle'><img src='images/document-icons/"+extension+".png'></i>";
                  }else{
                  	txt=txt+"<i class='circle'><span>other</span></i>";
                  }
                  
                  
                  //文件链接 文件名
                  txt=txt+"<a class='title' href='"+file_elements[i].getElementsByTagName("path")+"'>"+file_elements[i].getElementsByTagName("name")+"</a><p>First Line<br>Second Line</p>";

				  //结尾
                  txt=txt+"<a href='#!' class='secondary-content' title='not-selected'><i class='material-icons'>grade</i></a>";
                  txt=txt +"</li>";
                  
                } //end for
                document.getElementById("filelist").innerHTML=txt;
              }//end if 
              else{
              	alert("xmlhttp.readyState="+xmlhttp.readyState+"  xmlhttp.status="+xmlhttp.status);
              }
	   }

	</script>


</head>
<body onload='update_list()'>

	<header>
		<!-- Dropdown Structure -->
		<ul id="dropdown1" class="dropdown-content">
			<li>
				<a href="#!">南京大学</a>
			</li>
			<li>
				<a href="#!">切换</a>
			</li>

			<li class="divider"></li>
			<li>
				<a href="http://www.nju.edu.cn" target="_blank">主页</a>
			</li>
		</ul>
		<!-- Dropdown2 Structure -->
		<ul id="dropdown2" class="dropdown-content">
			<li>
				<a href="#!">王宁</a>
			</li>
			<li>
				<a href="#!">个人信息</a>
			</li>

		</ul>
		<!-- Dropdown Structure -->
		<ul id="dropdown3" class="dropdown-content">
			<li>
				<a href="#!">南京大学</a>
			</li>
			<li>
				<a href="#!">切换</a>
			</li>

			<li class="divider"></li>
			<li>
				<a href="http://www.nju.edu.cn" target="_blank">主页</a>
			</li>
		</ul>
		<!-- Dropdown2 Structure -->
		<ul id="dropdown4" class="dropdown-content">
			<li>
				<a href="#!">王宁</a>
			</li>
			<li>
				<a href="#!">个人信息</a>
			</li>

		</ul>

		<nav>
			<div class="nav-wrapper teal lighten-3">
				<div class="container">
					<div class="row">
						<div class="col l6 s12">
							<a href="#!" class="brand-logo">uniNOTE</a>
						</div>

						<ul class="right hide-on-med-and-down">
							<li>
								<a href="index.html">首页</a>
							</li>
							<li>
								<a href="list.html">文档</a>
							</li>
							<li>
								<a href="upload.html">上传文档</a>
							</li>
							<!-- Dropdown Trigger -->
							<li>
								<a class="dropdown-button" href="#!" data-activates="dropdown1">
									南京大学 <i class="material-icons right">arrow_drop_down</i>
								</a>
							</li>
							<li>
								<a class="dropdown-button" href="#!" data-activates="dropdown2">
									王宁 <i class="material-icons right">arrow_drop_down</i>
								</a>
							</li>
						</ul>
						<ul id="slide-out" class="side-nav">
							<li>
								<a href="index.html">首页</a>
							</li>
							<li>
								<a href="list.html">文档</a>
							</li>
							<li>
								<a href="upload.html">上传文档</a>
							</li>
							<!-- Dropdown Trigger -->
							<li>
								<a class="dropdown-button" href="#!" data-activates="dropdown3">
									南京大学
									<i class="material-icons right">arrow_drop_down</i>
								</a>
							</li>
							<li>
								<a class="dropdown-button" href="#!" data-activates="dropdown4">
									王宁
									<i class="material-icons right">arrow_drop_down</i>
								</a>
							</li>
						</ul>
						<a href="#" data-activates="slide-out" class="button-collapse">
							<i class="mdi-navigation-menu"></i>
						</a>
					</div>
				</div>
			</div>
		</nav>
	</header>

	<div class="main container">
		<div class="row">
			<!-- 左边l4 -->

			<div class="col s12 l4">
				<br />
				<h4>选择课程</h4>

				<!--左边的内容-->

				<ul class="collapsible" data-collapsible="expandable">
					<li>
						<div class="collapsible-header">
							<i class="material-icons">list</i>
							软件学院
						</div>
						<div class="collapsible-body">
							<div class="collection" title="软件学院">
								<a href="#!" class="collection-item" title="软件工程与计算Ⅰ" onclick="update_list()">
									软件工程与计算Ⅰ
									<span class="badge">6</span>
								</a>
								<a href="#!" class="collection-item" title="计算机组织结构" onclick="update_list()">
									计算机组织结构
									<span class="new badge">4</span>
								</a>
								<a href="#!" class="collection-item" title="计算机与操作系统" onclick="update_list()">
									计算机与操作系统
									<span class="badge">22</span>
								</a>
								<a href="#!" class="collection-item" title="数据库系统" onclick="update_list()">
									数据库系统
									<span class="badge">14</span>
								</a>
								<a href="#!" class="collection-item" title="软件工程与计算Ⅲ" onclick="update_list()">
									软件工程与计算Ⅲ
									<span class="badge">11</span>
								</a>
								<a href="#!" class="collection-item" title="软件工程统计方法" onclick="update_list()">
									软件工程统计方法
									<span class="badge">17</span>
								</a>
								<a href="#!" class="collection-item" title="计算机网络" onclick="update_list()">
									计算机网络
									<span class="badge">32</span>
								</a>

							</div>
						</div>
					</li>
					<li>
						<div class="collapsible-header">
							<i class="material-icons">list</i>
							计算机科学与技术系
						</div>
						<div class="collapsible-body">
							<div class="collection" title="计算机科学与技术系">
								<a href="#!" class="collection-item" title="编译原理" onclick="update_list()">
									编译原理
									<span class="badge">32</span>
								</a>

							</div>
						</div>
					</li>
					<li>
						<div class="collapsible-header">
							<i class="material-icons">list</i>
							Third
						</div>
						<div class="collapsible-body">
							<div class="collection" title="Third">
								<a href="#!" class="collection-item" title="编译原理" onclick="update_list()">
									编译原理
									<span class="badge">32</span>
								</a>
							</div>
						</div>
					</li>

				</ul>
				<!-- 左边l4END -->
			</div>
			<!-- 右边l8 -->
			<div class="col s12 l8">
				<br />
				<br />
				<form id="searchZone">
					<div>
						<input type="text" data-provide="typeahead">
						<a class="waves-effect waves-light btn">搜索</a>
					</div>
					<form>
						<style type="text/css">
			label{
				margin: 5px;
			}
			</style>
						<input type="radio" name="document" id="all-radio"/>
						<label for="all-radio">all</label>

						<input type="radio" name="document" id="doc-radio"/>
						<label for="doc-radio">doc</label>
						<input type="radio" name="document" id="ppt-radio"/>
						<label for="ppt-radio">ppt</label>
						<input type="radio" name="document" id="xls-radio"/>
						<label for="xls-radio">xls</label>
						<input type="radio" name="document" id="pdf-radio"/>
						<label for="pdf-radio">pdf</label>
						<input type="radio" name="document" id="other-radio"/>
						<label for="other-radio">other</label>

					</form>
				</form>
				<br />
				<div>
					<ul class="collection" id="filelist">
					</ul>
				</div>
				<div class="bdsharebuttonbox">
					<a href="#" class="bds_more" data-cmd="more">分享到：</a>
					<a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博">新浪微博</a>
					<a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信">微信</a>
					<a href="#" class="bds_sqq" data-cmd="sqq" title="分享到QQ好友">QQ好友</a>
					<a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网">豆瓣网</a>
					<a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间">QQ空间</a>
					<a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网">人人网</a>
					<a href="#" class="bds_copy" data-cmd="copy" title="分享到复制网址">复制网址</a>
				</div>
				<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"分享自uniNOTE的文档:","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{"bdSize":16}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
			</div>
			<!-- 右边l8END -->
		</div>
	</div>
	<!--main container-->

	<footer class="page-footer teal lighten-3">
		<div class="container">
			<div class="row">
				<div class="col l6 s12">
					<h5 class="white-text">Footer Content</h5>
					<p class="grey-text text-lighten-4">
						You can use rows and columns here to organize your footer content.
					</p>
				</div>
				<div class="col l4 offset-l2 s12">
					<h5 class="white-text">Links</h5>
					<ul>

						<li>
							<a class="grey-text text-lighten-3" href="#!">Link 1</a>
						</li>

					</ul>
				</div>
			</div>
		</div>
		<div class="footer-copyright">
			<div class="container">
				© 2015 uniNOTE Group, NJU
				<a class="grey-text text-lighten-4 right" href="#!">More Links</a>
			</div>
		</div>
	</footer>

	<!--  Scripts-->
	<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
	<script src="js/materialize.js"></script>
	<script src="js/init.js"></script>


</body>
</html>